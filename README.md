# Description
- 機能
  - 画像を、一定の縦横比を保ったままトリミングできます
  - 回転してトリミングすることもできます
- 開発の目的
  - 前回(MyTrimmingNew)の多数の反省点を受け、BDDを前提に再度開発したらどうなるかを確認するために再開発しました
- 前回からの改善点
  - 機能面
    - 矩形を回転している場合でも矩形を拡大/縮小可能にしました
    - 回転してトリミングする際、画像のジャギーを低減するロジックを実装しました
    - 回転してトリミングする際に進捗のプログレスバー表示を追加しました
  - 開発面
    - テスト側にロジックを2重実装しませんでした
    - 機能テスト＝受け入れテストと呼べるものを実装しました
- 注意事項
  - 回転してトリミングする際の処理は相変わらず遅いです

# Requirement
- ビルドに必要な環境
  - Visual Studio
  - .NET Framework 4.5
- Nuget 取得Package
  - テスト
    - MSTest
      - MSTest.TestAdapter 2.1.2
      - MSTest.TestFramework 2.1.2
    - 自動化API
      - Codeer.Friendly 2.6.1
      - Codeer.Friendly.Windows 2.15.0
      - Codeer.Friendly.Windows.Grasp 2.12.0
      - RM.Friendly.WPFStandardControls 1.41.2

# Usage

## 基本的な流れ

```
画像ファイルオープン
↓
赤色の矩形を変更し、切り取り範囲を指定
↓
(プレビュー画面により、切り取り後にどのような見た目になるかを確認)
↓
別名保存により、切り取り範囲を画像として保存
```

## 切り取り範囲を示す赤枠矩形
### 操作
```
矩形の隅以外でのドラッグ＆ドロップ : 移動
矩形の隅でのドラッグ＆ドロップ     : 拡大/縮小
```

### 制約
- 矩形の回転は、-80度 〜 +80度程度に抑えてください
  - ソフト側で制約をかけることはTODOです

## キーボードショートカット
### ファイル関係
```
"Ctrl" + "o" : 画像ファイルオープン
"Ctrl" + "s" : 切り取り範囲を別名保存
```

### 切り取り範囲を示す赤枠矩形
```
"+"            : 時計回りに1度回転
"-"            : 反時計回りに1度回転
"Ctrl" + "+"   : 時計回りに10度回転
"Ctrl" + "-"   : 反時計回りに10度回転
"上下左右キー" : 1pixel単位での移動
"Ctrl" + "z"   : 取り消し
"Ctrl" + "y"   : やり直し
```

### その他
プレビュー機能(現時点の切り取り範囲で切り取ると、どんな見た目になるか)
```
"Ctrl" + "p" : プレビュー画面表示
```

# Install
2021/5/xx時点でコード公開のみ実施しています。お手数ですがご自身でビルドしてください。

# Licence
- [MIT](https://github.com/tcnksm/tool/blob/master/LICENCE)
